<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Profile</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="../../../assets/css/style.css" />
  <!-- Bootstrap Bundle with Popper.js (Required for Dropdowns) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Bootstrap Bundle (Required for Icons) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
</head>

<body class="bg-light">
  <div class="container-fluid">
    <button class="btn btn-outline-primary d-lg-none m-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMenu">
      â˜° Menu
    </button>
    <div class="row">
      <!-- Sidebar Offcanvas + Grid -->
      <div id="sidebarMenu" class="sidebar shadow p-3">
        <!-- Sidebar content -->
        <img src="../../../assets/images/peerAid-tr.png" class="img-fluid mb-3" alt="peerAid Logo" style="max-width: 260px;" />
        <ul class="nav flex-column">
          <li class="nav-item"><a class="nav-link" href="/student/studentdashboard">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="/student/studentschedule">Calendar</a></li>
          <li class="nav-item"><a class="nav-link" href="/student/chat">Messages</a></li>
          <li class="nav-item"><a class="nav-link" href="/student/review">Reviews & Feedback</a></li>
          <li class="nav-item"><a class="nav-link active" href="/student/studentprofile">Profile</a></li>
          <hr />
          <li class="nav-item"><a class="nav-link" href="/student/bookSessions">Book a Session</a></li>
          <li class="nav-item"><a class="nav-link" href="/student/tutoringSessions">Create a Session</a></li>
          <li class="nav-item"><a class="nav-link" href="/student/findSessions">Find a Session</a></li>
          <hr />
          <li class="nav-item"><a class="nav-link" href="/student/report">Report</a></li>
          <li class="nav-item"><a class="nav-link" href="/student/About">About Us</a></li>
          <li class="nav-item"><a class="nav-link" href="/student/faq">FAQs</a></li>
          <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
        </ul>
      </div>
  

      <!-- Main Content -->
      <main class="main-content px-4 mt-3">
        <div class="py-4 text-black">
          <h1 class="display-5">Hello, <span id="studentName">Student</span></h1>
          <p class="text-muted">This is your profile.</p>
        </div>

        <div class="container mt-4 d-flex justify-content-center">
          <div class="card shadow-lg p-4 text-center" style="max-width: 600px; width: 100%;">
            <img id="profilePic" src="/assets/images/peerAid-tr.png" class="rounded-circle mx-auto mb-3" alt="Profile Picture" style="width: 140px; height: 140px; object-fit: cover;" />
            <h2 class="mb-1" id="profileName">Student Name</h2>
            <p class="text-muted" id="learningStyle">Learning Style Not Set</p>
            <div class="text-center mt-3">
              <a href="#" class="text-dark" style="font-size: 14px; text-decoration: underline;" data-bs-toggle="collapse" data-bs-target="#reviewForm">Edit Profile</a>
          </div>
            <hr />
            <h4>About Me</h4>
            <p class="text-secondary" id="bio">No bio available.</p>
            <h4>Subjects</h4>
            <ul class="list-unstyled text-secondary" id="subjectsList"></ul>
            <h4>Contact</h4>
            <p class="text-primary mb-0"><strong>Email:</strong> <span id="email">email@example.edu</span></p>
          </div>
        </div>

        <!-- Collapsible Edit Form -->
    <div id="reviewForm" class="collapse mt-3">
      <div class="card p-3 shadow-sm position-relative">
          <!-- Close Button (X) -->
          <button type="button" class="btn-close position-absolute top-0 end-0 m-2" id="closeReviewForm" aria-label="Close"></button>

        <h2>Update Profile</h2>
        <form id="updateProfileForm" enctype="multipart/form-data">
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" id="username" name="username" required />
          </div>

          <div class="mb-3">
            <label for="emailInput" class="form-label">Email</label>
            <input type="email" class="form-control" id="emailInput" name="email" required />
          </div>

          <div class="mb-3">
            <label for="profilePicInput" class="form-label">Profile Picture</label>
            <input type="file" class="form-control" id="profilePicInput" name="profileImage" accept="image/*" />
          </div>

          <div class="mb-3">
            <label for="bioInput" class="form-label">Bio (Optional)</label>
            <textarea class="form-control" id="bioInput" name="bio" rows="3"></textarea>
          </div>

          <div class="mb-3">
            <label for="subjectsInput" class="form-label">Subjects (comma-separated)</label>
            <input type="text" class="form-control" id="subjectsInput" name="subjects" placeholder="e.g. Math, English, History" />
          </div>
          <div class="mb-3">
            <label class="form-label">Current Availability</label>
            <ul id="currentAvailability" class="list-unstyled text-secondary mb-3">
              <!-- populated by updateprofile.js -->
            </ul>
          </div>
          <!-- Availability Dropdown -->
          <div class="mb-3">
            <label class="form-label">Set Availability</label>
            <div class="row g-2">
              <div class="col-md-4">
                <select class="form-select" id="daySelect">
                  <option disabled selected>Day</option>
                  <option>Monday</option>
                  <option>Tuesday</option>
                  <option>Wednesday</option>
                  <option>Thursday</option>
                  <option>Friday</option>
                  <option>Saturday</option>
                  <option>Sunday</option>
                </select>
              </div>
              <div class="col-md-4">
                <select class="form-select" id="startTimeSelect">
                  <option disabled selected>Start Time</option>
                  <option>8:00 AM</option>
                  <option>9:00 AM</option>
                  <option>10:00 AM</option>
                  <option>11:00 AM</option>
                  <option>12:00 PM</option>
                  <option>1:00 PM</option>
                  <option>2:00 PM</option>
                  <option>3:00 PM</option>
                  <option>4:00 PM</option>
                  <option>5:00 PM</option>
                  <option>6:00 PM</option>
                  <option>7:00 PM</option>
                </select>
              </div>
              <div class="col-md-4">
                <select class="form-select" id="endTimeSelect">
                  <option disabled selected>End Time</option>
                  <option>9:00 AM</option>
                  <option>10:00 AM</option>
                  <option>11:00 AM</option>
                  <option>12:00 PM</option>
                  <option>1:00 PM</option>
                  <option>2:00 PM</option>
                  <option>3:00 PM</option>
                  <option>4:00 PM</option>
                  <option>5:00 PM</option>
                  <option>6:00 PM</option>
                  <option>7:00 PM</option>
                  <option>8:00 PM</option>
                </select>
              </div>
            </div>
            <button type="button" class="btn btn-outline-primary btn-sm mt-2" id="addAvailabilityBtn">Add</button>

            <div class="mt-2">
              <label for="availabilityInput" class="form-label">Your Availability</label>
              <textarea class="form-control" id="availabilityInput" name="availability" rows="2" readonly placeholder="Selected availability will appear here..."></textarea>
            </div>
          </div>

          <button type="submit" class="btn btn-primary">Update Profile</button>
        </form>

        <hr />

        <h2>Change Password</h2>
        <form id="changePasswordForm">
          <input type="text" name="username" autocomplete="username" hidden />
          <div class="mb-3">
            <label for="currentPassword" class="form-label">Current Password</label>
            <input type="password" class="form-control" id="currentPassword" name="currentPassword" required autocomplete="current-password" />
          </div>
          <div class="mb-3">
            <label for="newPassword" class="form-label">New Password</label>
            <input type="password" class="form-control" id="newPassword" name="newPassword" required autocomplete="new-password" />
          </div>
          <button type="submit" class="btn btn-danger">Change Password</button>
        </form>
      </main>
    </div>
  </div>
</div>
</div>

  <!-- Scripts -->
  <script src="../../../assets/js/updateprofile.js"></script>
  <script src="../../../assets/js/changePassword.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

 
  
</body>
</html>
